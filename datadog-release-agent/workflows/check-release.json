{
  "objective": "Validate a release by comparing telemetry data before and after for a specified service_name and release_time.\n\n",
  "steps": "## Part 1: Log Analysis\n\n1. Query logs for the service during pre-release (`release_time - N hours`) and post-release (`release_time + N hours`) windows\n2. Count logs by level/status and check for threshold deviation (default 10%) increase in WARN or higher levels post-release\n3. Get pattern counts before and after release to identify changes\n4. Check for patterns that were frequent pre-release but stopped occurring post-release\n5. Check for new error patterns that emerged post-release\n\n## Part 2: Metrics Analysis\n\n1. Find system metrics (CPU, Memory, Network, Disk) and compare before and after release\n2. Check request metrics for sustained drops post-release\n3. Check error metrics for sustained increases post-release\n4. Check latency metrics for sustained increases post-release\n5. For custom metrics, identify critical tags, group by them, and compare pre vs post values\n\n## Output Format\n\n- **ALWAYS** provide a thumbs up or thumbs down for the release\n- If thumbs down, provide a summary section for each issue type:\n  - **Log Issues**: List in tabular form: pattern description, example log line, pre vs post counts, why it matters?\n  - **Metric Issues**: List in tabular form: metric name, pre vs post comparison, why this change matters?",
  "guardrails": "### Log Analysis Thresholds\n\n- Flag if WARN+ log levels increase by **more than 20%** post-release\n- Flag patterns that disappeared entirely post-release\n- Flag new error patterns that appeared post-release\n\n### Metrics Analysis Thresholds\n\n- Flag if P50 or P99 post-release has moved at least **1.5x** compared to pre-release\n- Direction of movement should be contextual: increases in errors/latency are bad, decreases in requests are bad",
  "reports": [
    "service-logs-search",
    "service-logs-retrieval",
    "service-request-count",
    "service-request-count-by-dimension",
    "service-error-count",
    "service-error-count-by-dimension",
    "service-error-rate",
    "service-latency-percentiles",
    "http-request-duration-average",
    "http-duration-by-status",
    "average-http-request-duration",
    "server-request-count",
    "client-requests-by-server"
  ],
  "knowledge": [],
  "trigger": "schedule",
  "schedule": "0 0 * * *"
}
